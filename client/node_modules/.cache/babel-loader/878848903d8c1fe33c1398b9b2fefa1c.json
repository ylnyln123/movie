{"remainingRequest":"D:\\我的毕设\\movie\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\我的毕设\\movie\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\我的毕设\\movie\\client\\src\\router\\index.js","dependencies":[{"path":"D:\\我的毕设\\movie\\client\\src\\router\\index.js","mtime":1581781281663},{"path":"D:\\我的毕设\\movie\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580828317070},{"path":"D:\\我的毕设\\movie\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1580828314476},{"path":"D:\\我的毕设\\movie\\client\\node_modules\\eslint-loader\\index.js","mtime":1580828323974}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJ2VsZW1lbnQtdWknOwpWdWUudXNlKFJvdXRlcik7CnZhciByb3V0ZXIgPSBuZXcgUm91dGVyKHsKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnLycsCiAgICBuYW1lOiAnaG9tZScsCiAgICByZWRpcmVjdDogewogICAgICBuYW1lOiAnbW92aWUtbGlzdCcKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL2Fib3V0JywKICAgIG5hbWU6ICdhYm91dCcsCiAgICAvLyByb3V0ZSBsZXZlbCBjb2RlLXNwbGl0dGluZwogICAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBzZXBhcmF0ZSBjaHVuayAoYWJvdXQuW2hhc2hdLmpzKSBmb3IgdGhpcyByb3V0ZQogICAgLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4KICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KAogICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYWJvdXQiICovCiAgICAgICcuLi92aWV3cy9BYm91dC52dWUnKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL3VzZXJzL2xvZ2luJywKICAgIGFsaWFzOiAnL2xvZ2luJywKICAgIG5hbWU6ICdsb2dpbicsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvdXNlci9sb2dpbi52dWUnKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL3VzZXJzL3JlZ2lzdGVyJywKICAgIGFsaWFzOiAnL3JlZ2lzdGVyJywKICAgIG5hbWU6ICdyZWdpc3RlcicsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvdXNlci9yZWdpc3Rlci52dWUnKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL21vdmllcycsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvbGF5b3V0L21vdmllJyk7CiAgICB9LAogICAgY2hpbGRyZW46IFt7CiAgICAgIHBhdGg6ICdjcmVhdGUnLAogICAgICBuYW1lOiAnbW92aWUtY3JlYXRlJywKICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvbW92aWUvY3JlYXRlJyk7CiAgICAgIH0sCiAgICAgIG1ldGE6IHsKICAgICAgICBhdXRoOiB0cnVlCiAgICAgIH0KICAgIH0sIHsKICAgICAgcGF0aDogJ2RldGFpbC86aWQnLAogICAgICBuYW1lOiAnbW92aWUtZGV0YWlsJywKICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvbW92aWUvZGV0YWlsJyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAgcGF0aDogJ2xpc3QnLAogICAgICBuYW1lOiAnbW92aWUtbGlzdCcsCiAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL21vdmllL2xpc3QnKTsKICAgICAgfQogICAgfV0KICB9LCB7CiAgICBwYXRoOiAnKicsCiAgICByZWRpcmVjdDogewogICAgICBuYW1lOiAnbW92aWUtbGlzdCcKICAgIH0KICB9XQp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocm91dGVyKSB7CiAgICByZXR1cm4gcm91dGVyLm1ldGEuYXV0aDsKICB9KSkgewogICAgaWYgKHN0b3JlLnN0YXRlLnVzZXIuaWQgPT09IDMpIHsKICAgICAgbmV4dCgpOwogICAgfSBlbHNlIHsKICAgICAgTm90aWZpY2F0aW9uKHsKICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgIG1lc3NhZ2U6ICflr7nkuI3otbfkvaDmsqHmnInorr/pl67mnYPpmZAnCiAgICAgIH0pOwogICAgICBuZXh0KHsKICAgICAgICBuYW1lOiAnbG9naW4nLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZWRpcmVjdDogdG8uZnVsbFBhdGgKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KCiAgbmV4dCgpOwp9KTsgLy8gY29uc3Qgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7Ci8vICAgcm91dGVzCi8vIH0pCgpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["D:/我的毕设/movie/client/src/router/index.js"],"names":["Vue","Router","store","Notification","use","router","routes","path","name","redirect","component","alias","children","meta","auth","beforeEach","to","from","next","matched","some","state","user","id","title","type","message","query","fullPath"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport store from '../store'\r\nimport { Notification } from 'element-ui'\r\n\r\nVue.use(Router)\r\n\r\nconst router = new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'home',\r\n      redirect: { name: 'movie-list' }\r\n    },\r\n    {\r\n      path: '/about',\r\n      name: 'about',\r\n      // route level code-splitting\r\n      // this generates a separate chunk (about.[hash].js) for this route\r\n      // which is lazy-loaded when the route is visited.\r\n      component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\r\n    },\r\n    { path: '/users/login', alias: '/login', name: 'login', component: () => import('../views/user/login.vue') },\r\n    { path: '/users/register', alias: '/register', name: 'register', component: () => import('../views/user/register.vue') },\r\n    {\r\n      path: '/movies',\r\n      component: () => import('../views/layout/movie'),\r\n      children: [\r\n        { path: 'create', name: 'movie-create', component: () => import('../views/movie/create'), meta: { auth: true } },\r\n        { path: 'detail/:id', name: 'movie-detail', component: () => import('../views/movie/detail') },\r\n        { path: 'list', name: 'movie-list', component: () => import('../views/movie/list') }\r\n      ]\r\n    },\r\n    { path: '*', redirect: { name: 'movie-list' } }\r\n  ]\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.matched.some((router) => router.meta.auth)) {\r\n    if (store.state.user.id === 3) {\r\n      next()\r\n    } else {\r\n      Notification({\r\n        title: '提示',\r\n        type: 'warning',\r\n        message: '对不起你没有访问权限'\r\n      })\r\n      next({\r\n        name: 'login',\r\n        query: { redirect: to.fullPath }\r\n      })\r\n    }\r\n  }\r\n  next()\r\n})\r\n// const router = new VueRouter({\r\n//   routes\r\n// })\r\n\r\nexport default router\r\n"]}]}